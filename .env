# =================================================================
# VARIABLES D'ENVIRONNEMENT - MOSAÏQUE CAPITAL
# =================================================================
# Configuration pour Application containerisée + MySQL local + Redis Docker

# =================================================================
# PROFIL SPRING
# =================================================================
SPRING_PROFILES_ACTIVE=dev

# =================================================================
# BASE DE DONNÉES MYSQL (DOCKER)
# =================================================================
DATABASE_USERNAME=mosaique_user
DATABASE_PASSWORD=Mosaique2025_Capital_SecureDB!
# Port externe pour éviter conflit avec MySQL local (3306)
DATABASE_PORT=3307

# Configuration JPA
JPA_DDL_AUTO=update
JPA_SHOW_SQL=false

# =================================================================
# JWT SECRETS
# =================================================================
# IMPORTANT: Générez une clé forte avec: openssl rand -base64 32
JWT_SECRET=votreCléSecrèteQuiDoitÊtreTrèsLongueEtComplexePourLaProduction
APP_JWT_SECRET=votreCléSecrètePourLApplicationQuiDoitÊtreTrèsLongueEtComplexe
JWT_EXPIRATION=86400000
JWT_REFRESH_EXPIRATION=604800000

# =================================================================
# MFA CONFIGURATION
# =================================================================
MFA_ISSUER=MosaiqueCapital

# =================================================================
# REDIS (DOCKER)
# =================================================================
REDIS_PASSWORD=mosaique_redis_2025
REDIS_PORT=6379
REDIS_DATABASE=0

# =================================================================
# SERVEUR APPLICATION
# =================================================================
SERVER_PORT=9999

# =================================================================
# PORTS DES OUTILS DE DÉVELOPPEMENT
# =================================================================
# Redis Commander
REDIS_UI_PORT=8081
REDIS_UI_USER=admin
REDIS_UI_PASSWORD=admin123

# Adminer (interface MySQL)
ADMINER_PORT=8080

# MailHog (serveur mail de test)
MAILHOG_SMTP_PORT=1025
MAILHOG_WEB_PORT=8025

# =================================================================
# BUILD DOCKER
# =================================================================
BUILD_DATE=$(date -u +'%Y-%m-%dT%H:%M:%SZ')
VCS_REF=dev

# =================================================================
# LOGGING
# =================================================================
LOG_LEVEL_ROOT=INFO
LOG_LEVEL_APP=DEBUG
LOG_LEVEL_MFA=DEBUG
LOG_LEVEL_AUTH=INFO
LOG_LEVEL_SECURITY=INFO
LOG_LEVEL_SQL=WARN

# =================================================================
# JVM SETTINGS
# =================================================================
JAVA_OPTS="-Xmx768m -Xms256m -XX:+UseG1GC -XX:+UseContainerSupport"

# =================================================================
# CONFIGURATION SERVICES BANCAIRES (FORMAT CORRIGÉ)
# =================================================================

# Budget Insight (Provider d'agrégation bancaire)
APP_BANKING_BUDGET_INSIGHT_API_URL=https://demo.biapi.pro/2.0
APP_BANKING_BUDGET_INSIGHT_CLIENT_ID=demo_client_id
APP_BANKING_BUDGET_INSIGHT_CLIENT_SECRET=demo_client_secret
APP_BANKING_BUDGET_INSIGHT_ENABLED=false
APP_BANKING_BUDGET_INSIGHT_WEBHOOK_SECRET=demo_webhook_secret

# Linxo (Provider alternatif)
APP_BANKING_LINXO_ENABLED=false
APP_BANKING_LINXO_WEBHOOK_SECRET=demo_linxo_webhook_secret

# Configuration générale Banking
APP_BANKING_DEFAULT_PROVIDER=mock
APP_BANKING_TIMEOUT=30000
APP_BANKING_CONNECTION_TIMEOUT=10000
APP_BANKING_REQUEST_TIMEOUT=30000

# Configuration Async Banking
APP_BANKING_ASYNC_CORE_POOL_SIZE=5
APP_BANKING_ASYNC_MAX_POOL_SIZE=10
APP_BANKING_ASYNC_QUEUE_CAPACITY=25

# Configuration Sync Scheduler
APP_BANKING_SYNC_ENABLED=false
APP_BANKING_SYNC_INTERVAL=PT6H
APP_BANKING_SYNC_MAX_CONNECTIONS_PER_BATCH=5
APP_BANKING_SYNC_STALE_HOURS=6

